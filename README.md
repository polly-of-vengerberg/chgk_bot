# Документация для файлов бота
## Описание бота
Этот Telegram-бот предназначен для получения идентификатора игрока в "Что?Где?Когда?" по его имени и фамилии. 
Бот запрашивает данные пользователя, а затем обращается к API сайта "Рейтинг ЧГК", чтобы найти и вернуть соответствующий ID.

## Основные функции:

- **Команда `/start`**: При запуске бот приветствует пользователя и предлагает ввести свое имя и фамилию.
  
- **Ввод данных**: Пользователь может ввести свое имя и фамилию в одном сообщении. Бот проверяет правильность формата ввода и запрашивает повторный ввод в случае ошибок.

- **Получение ID**: Бот отправляет запрос к API, используя введенные имя и фамилию, и получает идентификатор пользователя. В случае успешного нахождения ID, бот выводит его пользователю. Если пользователь не найден или существует несколько совпадений, бот информирует об этом.

## Используемые технологии:

- **Python**: Язык программирования, на котором написан бот.
- **pyTelegramBotAPI**: Библиотека для работы с Telegram API.
- **HTTP-запросы**: Используются для взаимодействия с внешним API для получения данных о пользователях.

## Структура проекта:

- **bot.py**: 
  - Содержит логику бота, включая обработчики команд и сообщений.
  
- **code.py**: 
  - Содержит функции для получения ID пользователей по имени и фамилии через API.

- **config.py**: 
  - Содержит конфигурационные параметры, такие как токен Telegram-бота и URL API.

- **messages.py**: 
  - Хранит текстовые сообщения, используемые ботом для общения с пользователями.

- **requirements.txt**: 
  - Указывает необходимые библиотеки и их версии для работы проекта (например, `pyTelegramBotAPI`).


# Функции частей кода
## 1. Файл `code.py`

### Описание

Этот файл содержит функции для взаимодействия с API и обработки имен и фамилий пользователей.

### Функции

#### `get_id(name: str, surname: str) -> list`

Получает ID пользователя по имени и фамилии.

- **Аргументы**:
  - `name` (str): Имя пользователя.
  - `surname` (str): Фамилия пользователя.

- **Возвращает**:
  - `list`: Список, содержащий ID и дополнительную информацию о пользователе. Если пользователь не найден, возвращает пустой список.

#### `get_name(text: str) -> dict`

Извлекает имя и фамилию из текстового сообщения.

- **Аргументы**:
  - `text` (str): Текстовое сообщение, содержащее имя и фамилию.

- **Возвращает**:
  - `dict`: Словарь с ключами `name` и `surname`, если текст корректен. В противном случае возвращает пустой словарь.

---

## 2. Файл `bot.py`

### Описание

Этот файл реализует Telegram-бота, который взаимодействует с пользователем, запрашивая у него имя и фамилию для получения ID.

### Инициализация

- Создается экземпляр `TeleBot` с токеном, указанным в `config.py`.

### Обработчики сообщений

#### `func_start(message)`

Обрабатывает команду `/start`.

- **Аргументы**:
  - `message`: Объект сообщения от пользователя.

- **Действие**:
  - Отправляет приветственное сообщение и клавиатуру с кнопками.

#### `func_text(message)`

Обрабатывает текстовые сообщения от пользователя.

- **Аргументы**:
  - `message`: Объект сообщения от пользователя.

- **Действие**:
  - Проверяет, что пользователь ввел имя и фамилию. Если информация неполная, отправляет сообщение об ошибке. В противном случае вызывает функцию `id_output`.

#### `id_output(message, name, surname)`

Получает и отправляет ID пользователя.

- **Аргументы**:
  - `message`: Объект сообщения от пользователя.
  - `name` (str): Имя пользователя.
  - `surname` (str): Фамилия пользователя.

- **Действие**:
  - Запрашивает ID пользователя с помощью функции `get_id`. В зависимости от полученного результата отправляет соответствующие сообщения пользователю.

### Запуск бота

- Бот начинает прослушивание сообщений с помощью `bot.polling(non_stop=True)`.

---

### Зависимости

- **Библиотеки**: Для работы бота необходимо установить библиотеку `pyTelegramBotAPI`.

- **Конфигурация**: Файлы `config.py` и `messages.py` должны содержать необходимые параметры и сообщения для корректной работы бота.
```
